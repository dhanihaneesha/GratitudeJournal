{% extends "base.html" %} {% block title %}History - Gratitude Journal{%
endblock %} {% block content %}
<h2 style="margin-bottom: 20px; color: #2d3748">Your Journal History</h2>

<div class="category-filters">
  <a
    href="{{ url_for('history') }}"
    class="category-filter {% if current_filter == 'All' %}active{% endif %}"
  >
    All Entries
  </a>
  {% for category in categories %}
  <a
    href="{{ url_for('history', category=category) }}"
    class="category-filter {% if current_filter == category %}active{% endif %}"
  >
    {{ category }}
  </a>
  {% endfor %}
</div>

{% if entries %}
<p style="margin-bottom: 20px; color: #8898aa">
  Showing {{ entries|length }} {% if current_filter == 'All' %} entries {% else
  %} {{ current_filter }} entries {% endif %}
</p>

<div class="entries-grid">
  {% for entry in entries %}
  <div class="entry-card">
    <h3>{{ entry.title }}</h3>
    <div class="entry-meta">
      <span
        class="category-badge category-{{ entry.category.lower().replace(' ', '-') }}"
      >
        {{ entry.category }}
      </span>
      <span>{{ entry.date.strftime('%B %d, %Y at %I:%M %p') }}</span>
    </div>
    <p class="entry-content">
      {{ entry.content[:200] }}{% if entry.content|length > 200 %}...{% endif %}
    </p>
    <a href="{{ url_for('view_entry', entry_id=entry.id) }}" class="view-link"
      >Read Full Entry â†’</a
    >
  </div>
  {% endfor %}
</div>
{% else %}
<div class="empty-state">
  <h2>No entries found</h2>
  <p>
    {% if current_filter == 'All' %} You haven't created any journal entries
    yet. {% else %} You haven't created any {{ current_filter }} entries yet. {%
    endif %}
  </p>
  <br />
  <a href="{{ url_for('new_entry') }}" class="btn">Create New Entry</a>
</div>
{% endif %} {% endblock %}
